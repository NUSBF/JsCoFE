{

  "_comment"  : [
    "====================================================================================",
    "                    jsCoFE Configuration for desktop setup mode                     ",
    "====================================================================================",
    "   26.02.2025 "
  ],

  "Desktop"  : {
    "clientApp"  : "/bin/bash",
    "args"       : ["-c","open -a 'Google Chrome' $feURL$clientURL"],
    "_args"       : ["-c","cd cofe-browser; npm start url=$feURL$clientURL"],
    "__args"       : ["-c","open -a Firefox $feURL$clientURL"]
  },

  "FrontEnd" : {
    "protocol"         : "http",
    "host"             : "localhost",
    "port"             : 8081,
    "externalURL"      : "http://localhost:8081",
    "localSetup"       : true,
    "stoppable"        : true,
    "exclude_tasks"    : ["TaskAmple"],
    "fsmount"          : "/",
    "cache"            : 2,
    "compression"      : 5,
    "update_rcode"     : 212,
    "userDataPath"     : "./cofe-users",
    "projectsPath"     : {
        "***"   : { "path" : "./cofe-projects",
                    "type" : "volume",
                    "diskReserve" : 1000
                  }
    },
    "jobs_safe"        : {
        "path"     : "./cofe-nc-storage/jobs_safe",
        "capacity" : 10
    },
    "auth_software"    : {
      "gphl-buster"  : {
        "desc_software" : "Global Phasing Ltd. Software Suite",
        "icon_software" : "task_buster",
        "desc_provider" : "Global Phasing Ltd.",
        "icon_provider" : "org_gphl",
        "auth_url"      : "https://www.globalphasing.com/cgi-bin/ccp4_licence.cgi?reqid=$reqid&addr=1.2.3.4&cburl=$cburl",
        "__auth_url"    : "https://arpwarp.embl-hamburg.de/api/maketoken/?reqid=$reqid&addr=1.2.3.4&cburl=$cburl"
      },
      "pdb-redo"  : {
        "desc_software" : "PDB-REDO Model Optimisation Software from NKI-Amsterdam",
        "icon_software" : "task_pdbredo",
        "desc_provider" : "Netherlands Cancer Institute",
        "icon_provider" : "org_nki",
        "auth_data"     :  {
          "user_id"     : { "label" : "Token ID"    , "type" : "integer" },
          "user_token"  : { "label" : "Token secret", "type" : "string"  },
          "expiry_date" : { "label" : "Expiry date" , "type" : "date"    }
        },
        "help_page"     : "authorize_pdbredo"
      }
    },
    "bootstrapHTML"    : "./bootstrap/jscofe.min.html",
    "maxRestarts"      : 100,
    "fileCapSize"      : 500000,
    "regMode"          : "email",
    "sessionCheckPeriod" : 2000,
    "ration"           : {
        "storage"   : 3000,
        "cpu_day"   : 24,
        "cpu_month" : 240
    },
    "cloud_mounts"     : {
      "My Computer"    : "/",
      "Home"           : ["$HOME","$USERPROFILE"],
      "CCP4 Examples"  : ["$CDEMODATA","$CEXAM"],
      "Tutorials"      : ["$CTUTORIALS","$CEXAM/cloud_tutorials"]
    }
  },

  "FEProxy" : {
    "protocol"         : "http",
    "host"             : "localhost",
    "port"             : 8085,
    "externalURL"      : "",
    "exclusive"        : true,
    "stoppable"        : true,
    "localisation"     : 0
  },

  "NumberCrunchers" : [
    {
      "serNo"            : 0,
      "name"             : "local-nc",
      "in_use"           : true,
      "protocol"         : "http",
      "host"             : "localhost",
      "port"             : 8083,
      "externalURL"      : "http://localhost:8083",
      "exclusive"        : true,
      "stoppable"        : true,
      "fsmount"          : "/",
      "capacity"         : 4,
      "max_nproc"        : 3,
      "exclude_tasks"    : [],
      "fasttrack"        : 1,
      "storage"          : "./cofe-nc-storage",
      "jobs_safe"        : {
          "path"     : "./cofe-nc-storage/jobs_safe",
          "capacity" : 10
      },
      "exeType"          : "SHELL",
      "exeData"          : "",
      "jobCheckPeriod"   : 2000,
      "sendDataWaitTime" : 1000,
      "maxSendTrials"    : 10,
      "jobRemoveTimeout" : 10000,
      "maxRestarts"      : 100,
      "fileCapSize"      : 500000
    },
    {
      "serNo"            : 1,
      "name"             : "client",
      "in_use"           : true,
      "protocol"         : "http",
      "host"             : "localhost",
      "port"             : 8084,
      "externalURL"      : "http://localhost:8084",
      "exclusive"        : true,
      "stoppable"        : true,
      "fsmount"          : "/",
      "capacity"         : 4,
      "exclude_tasks"    : [],
      "fasttrack"        : 1,
      "storage"          : "./cofe-client-storage",
      "exeType"          : "CLIENT",
      "exeData"          : "",
      "jobCheckPeriod"   : 2000,
      "sendDataWaitTime" : 1000,
      "maxSendTrials"    : 10,
      "jobRemoveTimeout" : 10000,
      "maxRestarts"      : 100,
      "fileCapSize"      : 500000
    },
    {
      "serNo"            : 2,
      "name"             : "remote-nc",
      "in_use"           : false,
      "protocol"         : "https",
      "host"             : "cloud.ccp4.ac.uk",
      "port"             : 0,
      "externalURL"      : "https://cloud.ccp4.ac.uk",
      "exeType"          : "REMOTE"
    }
  ],

  "Emailer" : {
    "type"               : "nodemailer",
    "emailFrom"          : "CCP4 Cloud <ccp4.cofe@gmail.com>",
    "maintainerEmail"    : "ccp4.cofe@gmail.com",
    "host"               : "smtp.gmail.com",
    "port"               : 465,
    "secure"             : true,
    "auth"               : {
      "file" : "auth_pass.txt"
    }
  }

}
