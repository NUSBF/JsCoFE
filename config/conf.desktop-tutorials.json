{

  "_comment"  : [
    "====================================================================================",
    "                    jsCoFE Configuration for desktop setup mode                     ",
    "====================================================================================",
    "   31.10.2020 "
  ],

  "Desktop"  : {
    "clientApp"  : "/bin/bash",
    "args"       : ["-c","open -a Opera $feURL$clientURL"],
    "_args"       : ["-c","open $feURL$clientURL"],
    "__args"       : ["-c","open -a 'Google Chrome' $feURL$clientURL"],
    "___args"       : ["-c","open -a Firefox $feURL$clientURL"]
  },

  "FrontEnd" : {
    "description"      : {
      "id"   : "ccp4",
      "name" : "CCP4-Harwell",
      "icon" : "images_com/setup-harwell.png",
      "partners" : [
        { "iris"        : "IRIS",
          "logo"        : "./images_png/logo-iris.png",
          "description" : "Digital Research Infrastructure STFC UK",
          "thanks"      : "Computing infrastructure",
          "url"         : "https://www.iris.ac.uk"
        }
      ]
    },
    "protocol"         : "http",
    "host"             : "localhost",
    "port"             : 8081,
    "externalURL"      : "http://localhost:8081",
    "localSetup"       : false,
    "stoppable"        : false,
    "exclude_tasks"    : ["TaskAmple"],
    "fsmount"          : "/",
    "update_rcode"     : 212,
    "userDataPath"     : "./cofe-users",
    "projectsPath"     : {
        "***"   : { "path" : "./cofe-projects",
                    "type" : "volume",
                    "diskReserve" : 1000
                  },
        "disk1" : { "path" : "./cofe-projects-1",
                    "type" : "volume",
                    "diskReserve" : 1000
                  }
    },
    "jobs_safe"        : {
        "path"     : "./cofe-nc-storage/jobs_safe",
        "capacity" : 10
    },
    "facilitiesPath"   : "./cofe-facilities",
    "ICAT_wdsl"        : "https://icat02.diamond.ac.uk/ICATService/ICAT?wsdl",
    "ICAT_ids"         : "https://ids01.diamond.ac.uk/ids",
    "auth_software"    : {
      "arpwarp" : {
        "desc_software" : "Arp/wArp Model Building Software from EMBL-Hamburg",
        "icon_software" : "task_arpwarp",
        "desc_provider" : "EMBL Outstation in Hamburg",
        "icon_provider" : "org_emblhamburg",
        "auth_url"      : "https://arpwarp.embl-hamburg.de/api/maketoken/?reqid=$reqid&addr=1.2.3.4&cburl=$cburl"
      },
      "gphl-buster"  : {
        "desc_software" : "Global Phasing Ltd. Software Suite",
        "icon_software" : "task_buster",
        "desc_provider" : "Global Phasing Ltd.",
        "icon_provider" : "org_gphl",
        "auth_url"      : "https://www.globalphasing.com/cgi-bin/ccp4_licence.cgi?reqid=$reqid&addr=1.2.3.4&cburl=$cburl",
        "__auth_url"    : "https://arpwarp.embl-hamburg.de/api/maketoken/?reqid=$reqid&addr=1.2.3.4&cburl=$cburl"
      }
    },
    "bootstrapHTML"    : "./bootstrap/jscofe.html",
    "maxRestarts"      : 100,
    "fileCapSize"      : 500000,
    "regMode"          : "email",
    "sessionCheckPeriod" : 2000,
    "ration"           : {
        "storage"   : 3000,
        "cpu_day"   : 24,
        "cpu_month" : 240
    },
    "cloud_mounts"     : {
      "My Computer"    : "/",
      "Home"           : ["$HOME","$USERPROFILE"],
      "CCP4 examples"  : "$CCP4/share/ccp4i2/demo_data",
      "Demo projects"  : "./demo-projects"
    }
  },

  "FEProxy" : {
    "protocol"         : "http",
    "host"             : "localhost",
    "port"             : 8085,
    "externalURL"      : "",
    "exclusive"        : true,
    "stoppable"        : false,
    "localisation"     : 0
  },

  "NumberCrunchers" : [
    {
      "serNo"            : 0,
      "name"             : "local-nc",
      "in_use"           : true,
      "protocol"         : "http",
      "host"             : "localhost",
      "port"             : 8083,
      "externalURL"      : "http://localhost:8083",
      "exclusive"        : true,
      "stoppable"        : false,
      "fsmount"          : "/",
      "capacity"         : 4,
      "max_nproc"        : 3,
      "exclude_tasks"    : [],
      "fasttrack"        : 1,
      "storage"          : "./cofe-nc-storage",
      "jobs_safe"        : {
          "path"     : "./cofe-nc-storage/jobs_safe",
          "capacity" : 10
      },
      "exeType"          : "SHELL",
      "exeData"          : "",
      "jobCheckPeriod"   : 2000,
      "sendDataWaitTime" : 1000,
      "maxSendTrials"    : 10,
      "jobRemoveTimeout" : 10000,
      "zombiExpireTimeout" : 2,
      "maxRestarts"      : 100,
      "fileCapSize"      : 500000
    },
    {
      "serNo"            : 1,
      "name"             : "client",
      "in_use"           : true,
      "protocol"         : "http",
      "host"             : "localhost",
      "port"             : 8084,
      "externalURL"      : "http://localhost:8084",
      "exclusive"        : true,
      "stoppable"        : false,
      "fsmount"          : "/",
      "capacity"         : 4,
      "exclude_tasks"    : [],
      "fasttrack"        : 1,
      "storage"          : "./cofe-client-storage",
      "exeType"          : "CLIENT",
      "_exeType"          : "SHELL",
      "exeData"          : "",
      "jobCheckPeriod"   : 2000,
      "sendDataWaitTime" : 1000,
      "maxSendTrials"    : 10,
      "jobRemoveTimeout" : 10000,
      "zombiExpireTimeout" : 2,
      "maxRestarts"      : 100,
      "fileCapSize"      : 500000
    }
  ],

  "Emailer" : {
    "type"               : "desktop",
    "_type"               : "nodemailer",
    "emailFrom"          : "CCP4 Cloud <ccp4.cofe@gmail.com>",
    "maintainerEmail"    : "ccp4.cofe@gmail.com",
    "host"               : "smtp.gmail.com",
    "port"               : 465,
    "secure"             : true,
    "auth"               : {
      "file" : "auth_pass.txt"
    }
  }

}
