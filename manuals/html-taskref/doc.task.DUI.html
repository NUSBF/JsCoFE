

<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3.2. Interactive Image Processing with DIALS/DUI &mdash; CCP4 Cloud 1.7 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/contentui.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3.3. Interactive Image Processing with iMosflm" href="doc.task.iMosflm.html" />
    <link rel="prev" title="3.1. Automatic Image Processing with Xia-2" href="doc.task.Xia2.html" /> 

</head>

<body>
    <header>
        <div class="container">
            <a class="site-nav-toggle hidden-lg-up"><i class="icon-menu"></i></a>
            <a class="site-title" href="index.html">
                CCP4 Cloud
            </a>
        </div>
    </header>


<div class="breadcrumbs-outer hidden-xs-down">
    <div class="container">
        















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="breadcrumbs">
    
      <li><a href="index.html">Docs</a></li>
        
          <li><a href="Data_Processing.html"><span class="section-number">3. </span>Data Processing</a></li>
        
      <li><span class="section-number">3.2. </span>Interactive Image Processing with DIALS/DUI</li>
    
    
      <li class="breadcrumbs-aside">
        
            
            <a href="_sources/doc.task.DUI.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>
</div>
    </div>
</div>
    <div class="main-outer">
        <div class="container">
            <div class="row">
                <div class="col-12 col-lg-3 site-nav">
                    
<div role="search">
    <form class="search" action="search.html" method="get">
        <div class="icon-input">
            <input type="text" name="q" placeholder="Search" />
            <span class="icon-search"></span>
        </div>
        <input type="submit" value="Go" class="d-hidden" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div>
                    <div class="site-nav-tree">
                        
                            
                            
                                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Workflows.html">1. Automatic workflows</a><ul>
<li class="toctree-l2"><a class="reference internal" href="doc.task.WFlowAEP.html">1.1. Automatic Experimental Phasing Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.WFlowAMR.html">1.2. Automatic Molecular Replacement Workflow</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Data_Import.html">2. Data Import</a><ul>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Import.html">2.1. Data Import</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.ImportSeqCP.html">2.2. Import Sequence(s) by Copy-Paste</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.ImportPDB.html">2.3. Import from PDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.CloudImport.html">2.4. Import from Cloud Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.ImportReplace.html">2.5. Import &amp; Replace</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Migrate.html">2.6. Hop on CCP4 Cloud</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="Data_Processing.html">3. Data Processing</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="doc.task.Xia2.html">3.1. Automatic Image Processing with Xia-2</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.2. Interactive Image Processing with DIALS/DUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.iMosflm.html">3.3. Interactive Image Processing with iMosflm</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Aimless.html">3.4. Data Reduction with Aimless</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Asymmetric_Unit_and_Structure_Revision.html">4. Asymmetric Unit and Structure Revision</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Asymmetric_Unit_and_Structure_Revision.html#asymmetric-unit">4.1. Asymmetric Unit</a></li>
<li class="toctree-l2"><a class="reference internal" href="Asymmetric_Unit_and_Structure_Revision.html#structure-revision">4.2. Structure Revision</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Automated_Molecular_Replacement.html">5. Automated Molecular Replacement</a><ul>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Morda.html">5.1. Morda</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.MrBump.html">5.2. MrBump</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Balbes.html">5.3. Balbes</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Simbad.html">5.4. Simbad</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Ample.html">5.5. Ample</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Molecular_Replacement.html">6. Molecular Replacement</a><ul>
<li class="toctree-l2"><a class="reference internal" href="doc.task.MR_model_preparation.html">6.1. Molecular Replacement Models and Ensembles</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Phaser.html">6.2. Phaser</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Molrep.html">6.3. Molrep</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Fragment-Based_Molecular_Replacement.html">7. Fragment-Based Molecular Replacement</a><ul>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Arcimboldo.html">7.1. Fragment Molecular Replacement with Arcimboldo</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.ArcimboldoBorges.html">7.2. Arcimboldo Borges</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.ArcimboldoShredder.html">7.3. Arcimboldo Shredder</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Experimental_Phasing.html">8. Experimental Phasing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Crank2.html">8.1. Crank-2</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.SHELX.html">8.2. SHELXCD</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.SHELX.html#id1">8.3. SHELXE</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Phaser.html">6.2. Phaser</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Density_Modification.html">9. Density Modification</a><ul>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Parrot.html">9.1. Density Modification with Parrot</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Acorn.html">9.2. Phase Refinement and Dynamic Density Modification with ACORN</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.SHELX.html">8.2. SHELXCD</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.SHELX.html#id1">8.3. SHELXE</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Refinement_and_Model_Building.html">10. Refinement and Model Building</a><ul>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Refmac.html">10.1. REFMAC5</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Buster.html">10.2. Buster Refinement</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Lorestr.html">10.3. Low-Resolution Refinement with Lorestr</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.CCP4Build.html">10.4. Automatic Model Building with CCP4Build</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Buccaneer.html">10.5. Automatic Model Building with Buccaneer</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.ArpWarp.html">10.6. Automated Model Building with Arp/wArp</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.ModelCraft.html">10.7. Automatic Model Building with Modelcraft</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Nautilus.html">10.8. Automatic Model Building of RNA/DNA with Nautilus</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Dimple.html">10.9. Dimple</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.CombStructure.html">10.10. Comb Structure with Coot/Refmac</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="COOT.html">11. COOT</a><ul>
<li class="toctree-l2"><a class="reference internal" href="doc.task.CootMB.html">11.1. Model Building with Coot</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.CootCE.html">11.2. Edit Coordinates with Coot</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Ligands.html">12. Ligands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="doc.task.MakeLigand.html">12.1. Make Ligand with Acedrg</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.FitLigand.html">12.2. Find and Fit Ligand with Coot</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.FitWaters.html">12.3. Find and Fit Waters with Coot</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Validation_Analysis_and_Deposition.html">13. Validation, Analysis and Deposition</a><ul>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Zanuda.html">13.1. Space Group Validation with Zanuda</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Privateer.html">13.2. Validation of carbohydrate structures with Privateer</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.PISA.html">13.3. Surface, Interfaces and Assembly Analysis with PISA</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Deposition.html">13.4. Prepare data for deposition</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Toolbox.html">14. Toolbox</a><ul>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Auspex.html">14.1. Reflection data diagnostics with Auspex plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.SRF.html">14.2. Self-Rotation Function Analysis with Molrep</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.CrosSec.html">14.3. X-ray cross sections and anomalous scattering factors</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.XyzUtils.html">14.4. Coordinate Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Gemmi.html">14.5. Gemmi</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.Gesamt.html">14.6. Pairwise Structural Alignment with GESAMT</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.LsqKab.html">14.7. Structure Superposition with LsqKab</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.SeqAlign.html">14.8. Sequence Alignment with ClustalW</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.task.SymMatch.html">14.9. Symmetry Match to Reference Structure with CSymMatch</a></li>
</ul>
</li>
</ul>

                            
                        
                    </div>
                </div>
                <div class="col-12 col-lg-9">
                    <div class="document">
                        
                            
  <div class="section" id="interactive-image-processing-with-dials-dui">
<h1><span class="section-number">3.2. </span>Interactive Image Processing with DIALS/DUI<a class="headerlink" href="#interactive-image-processing-with-dials-dui" title="Permalink to this headline">¶</a></h1>
<p>DIALS (Diffraction Integration for Advanced Light Sources) is a software project for the analysis of crystallographic diffraction images. DIALS processing on CCP4 Cloud may be performed by either running the individual tools (spot finding, indexing, refinement, integration, symmetry, scaling, exporting to MTZ) using the graphical user interface DUI, or by automated processing with xia2.</p>
<p>You can click <a class="reference external" href="https://dials.github.io/documentation/tutorials/processing_in_detail_betalactamase_dui.html" rel="noopener noreferrer" target="_blank">here</a> to learn more about processing with DUI.</p>
<p>Interactive Image Processing with DUI includes next steps:</p>
<div class="section" id="import">
<h2><span class="section-number">3.2.1. </span>Import<a class="headerlink" href="#import" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><strong>import image data files into a format that can be used within DIALS.</strong></div></blockquote>
<p>If all the images in the dataset are consistent, then the dataset is imported and initial models for the “Beam”, “Scan” and “Detector” are created. The images are now also displayed within the <strong>“Image”</strong> tab.</p>
</div>
<div class="section" id="find">
<h2><span class="section-number">3.2.2. </span>Find<a class="headerlink" href="#find" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><strong>locate spots on some or all of the data</strong></div></blockquote>
<p>The first “real” task in any processing using DIALS is the spot finding. This program tries to find strong spots on a sequence of images. Spot finding will be done against each logically grouped set of images given. Strong pixels will be found on each image and spots will be formed from connected components.</p>
<p>Spot-finding, like most of the other processing steps in DUI, presents user parameters at two levels of detail. The <strong>“Simple”</strong> tab contains the basic parameters that are the most commonly changed. The <strong>“Advanced”</strong> tab contains all of those again, plus other parameters that may be required for expert use with challenging data sets. Once the job is finished, the image viewer will display small blue boxes around the pixels that have been marked as strong.</p>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">It</span> <span class="pre">is</span> <span class="pre">also</span> <span class="pre">useful</span> <span class="pre">to</span> <span class="pre">click</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">“Report</span> <span class="pre">View”</span> <span class="pre">tab</span> <span class="pre">and</span> <span class="pre">scroll</span> <span class="pre">down</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">“Analysis</span> <span class="pre">of</span> <span class="pre">strong</span> <span class="pre">reflections”.</span> <span class="pre">This</span> <span class="pre">shows</span> <span class="pre">a</span> <span class="pre">graph</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">strong</span> <span class="pre">spots</span> <span class="pre">found</span> <span class="pre">per</span> <span class="pre">image.</span></code></div></blockquote>
<p><em>If you see the number of strong spots drop off over the dataset, or otherwise show large variability, we may start to worry about issues such as radiation damage or a poorly-centered crystal.</em></p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">If</span> <span class="pre">you</span> <span class="pre">have</span> <span class="pre">a</span> <span class="pre">case</span> <span class="pre">where</span> <span class="pre">spot-finding</span> <span class="pre">has</span> <span class="pre">gone</span> <span class="pre">badly,</span> <span class="pre">it</span> <span class="pre">may</span> <span class="pre">be</span> <span class="pre">helpful</span> <span class="pre">to</span> <span class="pre">debug</span> <span class="pre">using</span> <span class="pre">the</span> <span class="pre">&quot;image</span> <span class="pre">viewer&quot;</span> <span class="pre">and</span> <span class="pre">&quot;reciprocal</span> <span class="pre">lattice</span> <span class="pre">viewer&quot;,</span> <span class="pre">which</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">launched</span> <span class="pre">via</span> <span class="pre">buttons</span> <span class="pre">shown</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">“Tools”</span> <span class="pre">tab.</span></code></p>
<blockquote>
<div><div class="toggle-header docutils container">
<strong>more about reciprocal lattice viewer</strong></div>
<div class="toggle-content docutils container">
<blockquote>
<div>This viewer displays the strong spots in 3D, after mapping them from their detector positions to reciprocal space. In a favourable case you should be able to see the crystal’s reciprocal lattice by eye in the strong spot positions. Some practice may be needed in rotating the lattice to an orientation that shows off the periodicity in reciprocal lattice positions.``</div></blockquote>
</div>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="index">
<h2><span class="section-number">3.2.3. </span>Index<a class="headerlink" href="#index" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><strong>determining a crystal model which explains the position of the found spots (may optionally involve choices about lattice or space group)</strong></div></blockquote>
<p>This program attempts to perform autoindexing on strong spots after spot finding. If one or more lattices are identified given the input list of strong spots, then the crystal orientation and experimental geometry are refined to minimize the differences between the observed and predicted spot centroids.</p>
<p>The simple parameters allow only to select between different <strong>“Indexing Methods”</strong>, the default of which is the 3D FFT algorithm. The other options are the 1D FFT (DPS) algorithm and a special version of the 3D FFT called real space grid search, which is particularly useful for narrow wedges containing multiple lattices, but requires a known cell and space group to be set under the “Advanced” parameters.</p>
<p><em>By default the program searches for a primitive lattice, and then proceeds with refinement in space group P1. If the unit cell and space group parameters are set, then the program will only accept solutions which are consistent with these parameters. Space group constraints will be enforced in refinement as appropriate.</em></p>
<p><em>The RMSDs at the start of each cycle start off worse than at the end of the previous cycle, because the best fit model for lower resolution data is being applied to higher resolution reflections. As long as each macrocycle shows a reduction in RMSDs then refinement is doing its job of extending the applicability of the model out to a new resolution limit, until eventually the highest resolution strong spots have been included.</em></p>
</div>
<div class="section" id="lattice">
<h2><span class="section-number">3.2.4. </span>Lattice<a class="headerlink" href="#lattice" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><strong>finding a Bravais lattice</strong></div></blockquote>
<p>Full refinement of the crystal and experimental geometry parameters will be performed (by default) in all Bravais settings that are consistent with the input primitive unit cell. A table is printed containing various information for each potential Bravais setting, including the metric fit (a measure of the deviation from the triclinic cell), the root-mean-square-deviations (rmsd), in mm, between the observed and predicted spot centroids, the refined unit cell parameters in each Bravais setting, and the change of basis operator to transform from the triclinic cell to each Bravais setting.</p>
<p><em>If Bravais lattice unknown before indexing, we can determine likely candidates - by taking the results of the P1 autoindexing, and running refinement with all of the possible Bravais settings applied. You can then choose your preferred solution. Run this without altering any of the defaults, as they are suitable for the majority of data sets.Once the job has run, a window will pop up containing scoring data and the unit cell for each Bravais setting.</em></p>
</div>
<div class="section" id="refine">
<h2><span class="section-number">3.2.5. </span>Refine<a class="headerlink" href="#refine" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><strong>improving the model</strong></div></blockquote>
<p>The model is already refined during indexing, but we can also add explicit refinement steps here. This is beneficial because it will use all reflections in refinement rather than a subset, uses a more sophisticated outlier rejection algorithm and will later allow us to fit a scan-varying model of the crystal.</p>
<p>In the <strong>“Report View”</strong> we can see plots of how the cell and orientation changes during the scan.</p>
<blockquote>
<div><div class="toggle-header docutils container">
<strong>Other useful plots in the report are:</strong></div>
<div class="toggle-content docutils container">
<ul class="simple">
<li>Difference between observed and calculated centroids vs phi, which shows how the average residuals in each of X, Y, and φ vary as a fuction of φ. If scan-varying refinement has been successful in capturing the real changes during the scan then we would expect these plots to be straight lines.</li>
<li>Centroid residuals in X and Y, in which the X, Y residuals are shown directly. The key point here is to look for a globular shape centred at the origin.</li>
<li>Difference between observed and calculated centroids in X and Y, which show the difference between predicted and observed reflection positions in either X or Y as functions of detector position. From these plots it is very easy to see whole tiles that are worse than their neighbours, and whether those tiles might be simply shifted or slightly rotated compared to the model detector.</li>
</ul>
</div>
</div></blockquote>
</div>
<div class="section" id="integration">
<h2><span class="section-number">3.2.6. </span>Integration<a class="headerlink" href="#integration" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><strong>recording how many counts in each spot, subtract background, usually fit reflection profiles.</strong></div></blockquote>
<p>This program is used to integrate the reflections on the diffraction images. The program will output a set of integrated reflections and an experiment list with additional profile model data.</p>
<p><em>Mostly, the default parameters are fine for Pilatus data, which will perform XDS-like 3D profile fitting while using a generalized linear model in order to fit a Poisson-distributed background model.</em></p>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">It</span> <span class="pre">possible</span> <span class="pre">to</span> <span class="pre">have</span> <span class="pre">adjusted</span> <span class="pre">the</span> <span class="pre">resolution</span> <span class="pre">limits</span> <span class="pre">using</span> <span class="pre">arameters</span> <span class="pre">d_min</span> <span class="pre">and</span> <span class="pre">d_max</span> <span class="pre">under</span> <span class="pre">prediction</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">**“Advanced”**</span> <span class="pre">parameters</span> <span class="pre">tab.</span></code></div></blockquote>
<p>After these jobs are finished, the reflections are ‘post-processed’, which includes the application of the LP correction to the intensities. Then summary tables are printed giving quality statistics first by frame, and then by resolution bin.</p>
<blockquote>
<div><div class="toggle-header docutils container">
more about <strong>Report View</strong></div>
<div class="toggle-content docutils container">
<blockquote>
<div><p>The <strong>“Report View”</strong> now contains additional plots under the <strong>“Analysis of reflection intensities”</strong> and <strong>“Analysis of reference profiles”</strong> sections. It is worth checking through these, particularly paying attention to the following:</p>
<blockquote>
<div><ul class="simple">
<li>Reflection and reference correlations binned in X/Y. These are useful companions to the plots of centroid residual as a function of detector position above. Whereas the above plots show systematic errors in the positions and orientations of tiles of a multi-panel detector, these plots indicate what effect that (and any other position-specific systematic error) has on the integrated data quality. The first of these plots shows the correlation between reflections and their reference profiles for all reflections in the dataset. The second shows only the correlations between the strong reference reflections and their profiles (thus these are expected to be higher and do not extend to such high resolution).</li>
<li>Distribution of I/Sigma vs Z. This reproduces the IσIIσI information versus frame number given in the log file in a graphical form. Here we see that IσIIσI is fairly flat over the whole dataset, which we might use as an indication that there were no bad frames, not much radiation damage occurred and that scale factors are likely to be fairly uniform.</li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<p><code class="docutils literal notranslate"><span class="pre">At</span> <span class="pre">this</span> <span class="pre">point</span> <span class="pre">we</span> <span class="pre">could</span> <span class="pre">export</span> <span class="pre">the</span> <span class="pre">integrated</span> <span class="pre">data</span> <span class="pre">set</span> <span class="pre">in</span> <span class="pre">MTZ</span> <span class="pre">format</span></code></p>
</div></blockquote>
</div>
<div class="section" id="symmetry">
<h2><span class="section-number">3.2.7. </span>Symmetry<a class="headerlink" href="#symmetry" title="Permalink to this headline">¶</a></h2>
<p>This program implements the methods of <strong>POINTLESS</strong> <a class="reference external" href="https://doi.org/10.1107/S0907444905036693" rel="noopener noreferrer" target="_blank">[Evans 2006]</a> and  <a class="reference external" href="https://doi.org/10.1107/S090744491003982X" rel="noopener noreferrer" target="_blank">[Evans_2011]</a>  for scoring and determination of Laue group symmetry.
The program takes as input a set of one or more integrated experiments and reflections.</p>
<p><strong>Stages of space group determination in POINTLESS</strong> :</p>
<ol class="arabic simple">
<li>from the cell dimensions, determine the maximum possible lattice symmetry, with some tolerance ( <code class="docutils literal notranslate"><span class="pre">ignoring</span> <span class="pre">any</span> <span class="pre">input</span> <span class="pre">symmetry</span></code> )</li>
<li>for each possible rotation operator, score potentially related observations pairs for agreement ( <code class="docutils literal notranslate"><span class="pre">correlation</span> <span class="pre">coefficients</span> <span class="pre">and</span> <span class="pre">R-factor</span></code> )</li>
<li>score all possible combinations of operators to determine the point group ( <code class="docutils literal notranslate"><span class="pre">point</span> <span class="pre">groups</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">maximum</span> <span class="pre">down</span> <span class="pre">to</span> <span class="pre">P1</span></code> )</li>
<li>score axial systematic absences to detect screw axes, hence space group ( <code class="docutils literal notranslate"><span class="pre">axial</span> <span class="pre">observations</span> <span class="pre">are</span> <span class="pre">sometimes</span> <span class="pre">unobserved</span></code> )</li>
</ol>
<p><strong>Symmetry determination with POINTLESS</strong> :</p>
<ol class="arabic simple">
<li><dl class="first docutils">
<dt>score individual symmetry operators in the maximum lattice group</dt><dd>comparing pairs of observations related by each possible rotational operator, using correlation coefficients and R-factors on normalized intensities | E | <sup>2</sup></dd>
</dl>
</li>
<li><strong>score possible point groups</strong></li>
<li><strong>space group from axial systematic absences</strong></li>
</ol>
<p>Once the job is finished, check the <strong>“Log Text”</strong> output. <code class="docutils literal notranslate"><span class="pre">The</span> <span class="pre">most</span> <span class="pre">important</span> <span class="pre">part</span> <span class="pre">here</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">table</span> <span class="pre">printed</span> <span class="pre">at</span> <span class="pre">the</span> <span class="pre">end.</span></code></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">space group is only a hypothesis until the structure has been determined and satisfactorily refined</p>
</div>
</div>
<div class="section" id="scale">
<h2><span class="section-number">3.2.8. </span>Scale<a class="headerlink" href="#scale" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><strong>correction for experimental effects i.e. beam intensity, illuminated volume, sample absorption etc.</strong></div></blockquote>
<p>This program performs scaling on integrated datasets, which attempts to improve the internal consistency of the reflection intensities by correcting for various experimental effects.
By default, a physically motivated scaling model is used, with a scale, decay (B-factor) and absorption correction. If the input files contain multiple datasets, all data will be scaled against a common target of unique reflection intensities.</p>
<p>A scaling.html file is also generated, containing interactive plots of merging statistics and scaling model plots.</p>
</div>
<div class="section" id="export">
<h2><span class="section-number">3.2.9. </span>Export<a class="headerlink" href="#export" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><strong>exporting the results of dials processing in various formats.</strong></div></blockquote>
<p>The output formats currently supported are:</p>
<p><strong>MTZ</strong> format exports the files as an unmerged mtz file, ready for input to downstream programs such as Pointless and Aimless. For exporting integrated, but unscaled data, the required input is a models.expt file and an integrated.refl file. For exporting scaled data, the required input is a models.expt file and a scaled.pickle file, also passing the option intensity=scale.</p>
<p><strong>NXS</strong> format exports the files as an NXmx file. The required input is a models.expt file and an integrated.refl file.</p>
<p><strong>MMCIF</strong> format exports the files as an mmcif file. The required input is a models.expt file and an integrated.refl file.</p>
<p><strong>XDS_ASCII</strong> format exports intensity data and the experiment metadata in the same format as used by the output of XDS in the CORRECT step - output can be scaled with XSCALE.</p>
<p><strong>SADABS</strong> format exports intensity data (and geometry by direction cosines) as an ersatz-SADABS format reverse engineered from the file format used by EvalCCD for input to SADABS.</p>
<p><strong>MOSFLM</strong> format exports the files as an index.mat mosflm-format matrix file and a mosflm.in file containing basic instructions for input to mosflm. The required input is an models.expt file.</p>
<p><strong>XDS</strong> format exports a models.expt file as XDS.INP and XPARM.XDS files. If a reflection pickle is given it will be exported as a SPOT.XDS file.</p>
<blockquote>
<div>for more information please visit: <a class="reference external" href="https://dials.github.io/index.html" rel="noopener noreferrer" target="_blank">https://dials.github.io/index.html</a></div></blockquote>
<p><strong>References</strong></p>
<p><a class="reference external" href="https://doi.org/10.1107/S0907444905036693" rel="noopener noreferrer" target="_blank">Evans, P. (2006). Acta Cryst. D62, 72-82.</a></p>
<p><a class="reference external" href="https://doi.org/10.1107/S090744491003982X" rel="noopener noreferrer" target="_blank">Evans, P. R. (2011) Acta Cryst. D67, 282-292.</a></p>
<p><strong>ACKNOWLEDGEMENTS</strong></p>
<p>This article uses materials from  <a class="reference external" href="https://dials.github.io/documentation/tutorials/index.html" rel="noopener noreferrer" target="_blank">tutorials</a></p>
</div>
</div>


                        
                    </div>
                </div>
            </div>
        </div>
    </div>    


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.7',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/contentui.js"></script>
    <script type="text/javascript" src="_static/js/theme.js"></script>
  
    <div class="footer" role="contentinfo">
        <div class="container">
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.0.1.
        </div>
    </div>  

</body>
</html>