=====
Gemmi
=====

`Gemmi <https://gemmi.readthedocs.io/en/latest/>`_ is a C++/Python library for manipulating coordinate files in *PDB* and *mmCIF* formats, parsing raw *mmCIF* and *CIF* -formatted files and working with reflection data in *mmCIF*. *Gemmi* was written by Marcin Wojdyr and is a joint product of Global Phasing Ltd and CCP4.

Gemmi task in CCP4 Cloud exposes python terminal to user for performing very custom operations on coordinate data, which cannot be done using other tools in the system. In most cases, one should not need this level of operating, and, therefore, Gemmi task represents an advanced option for experts.

Gemmi task accepts a list of coordinate-related objects: structural revision, MR ensembles and models, XYZ data, and reads them into Gemmi documents referenced by python variables ``stN``, where ``N=1,2,...`` is the position of the referenced object in the list. The python script, provided by user, may perform any Gemmi functions on the objects, and should place the final result in document ``st1``.

**Example:** removal of all solvent and ligand molecules may be presented as a Gemmi task, which accepts single data object and contains the following Gemmi script: ::

    st1.remove_ligands_and_waters()
    st1.remove_empty_chains()

After execution, the task will produce a copy of input object, where all solvent and ligand molecules are removed.

Principles of Gemmi library and the list of available functions can be found `here <https://gemmi.readthedocs.io/en/latest/>`_.

Due to security implications, this task can be run only on user's machine via CCP4 Cloud Client.

