===========
Data Import
===========

This task allows **importing files stored on the user's device** and **attaching the PDF and HTML** (must be uploaded along with all corresponded files) **files** in project tree.

.. note:: Users can switch off the extra guidance through the data import procedure in Account settings (Find **Guide through the data import** in **"My Account"** page)


Following file formats can be imported: .pdb,.ent,.seq,.fasta,.pir,.mtz,.sca,.cif,.mmcif,.doc,.docx,.pdf,.txt,.jpg,.jpeg,.gif,.png,.html,.htm,.hkl,.hhr,.borges

Import procedure automatically identifies the type of uploaded data and converts it into CCP4 Cloud's Data Objects


=====================  ==============================  ===========================================================================================================================================================================================================================================================================================================================================================================================  ===================

     Type                   File	                                                                                                             Description               	                                                                                                                                                                                                                                                                        CCP4 Cloud Object

=====================  ==============================  ===========================================================================================================================================================================================================================================================================================================================================================================================  ===================
 Unmerged reflections      .mtz,  .hkl                  All datasets found in uploaded files will be converted into individual Unmerged objects, complemented with symmetry metadata, used for subsequent merging and scaling. Useful properties of datasets, calculated with Pointless, will be presented in the output.	                                                                                                                             Unmerged
 Merged reflections           .mtz                      Merged reflections in CCP4 file format. All datasets found in uploaded files will be converted into individual HKL objects, complemented with FreeR flag columns (unless found in the file) and truncated if necessary. Useful properties of datasets, calculated with CTruncate, will be presented in the output.                                                                                  HKL
 Sequence                  .seq,  .pir,  .fasta           Macromolecular sequence.                                                                                                                                                                                                                                                                                                                                                                       Sequence
 Coordinates             .pdb,  .cif,  .mmcif,  .ent    Macromolecular coordinates. Multi-chain files will be split into single chains and added as additional XYZ objects. mmcif also used for the small molecule library that specifies the molecule geometry.                                                                                                                                                                                                                                                                               XYZ
=====================  ==============================  ===========================================================================================================================================================================================================================================================================================================================================================================================  ===================

Imported estimated phases can be added to Structure revision by :doc:`doc.task.Migrate` 
and :doc:`doc.task.EditRevision` tasks or generated by refinement after Molecular Replacement
or by experimental phasing.

Ligand descriptions are required for running the ligand-fitting tasks 
(:doc:`doc.task.CootMB` or :doc:`doc.task.FitLigand`).
After successful ligand fit, these tasks automatically place the corresponding
ligand description in the output Structure Revision.

In some other cases, **imported** ligand descriptions should be added to Structure Revision 
using the :doc:`doc.task.EditRevision` task. For example, this will happen if you try to
perform Molecular Replacement using MR model containing residues for which there are no 
descriptions in Refmac's Monomer Library. To avoid failure in Phaser or Molrep task, add 
missing ligand descriptions to the Structure Revision just before running them (typically, 
after :doc:`doc.task.ASUDef` task).


.. note::
        This task does NOT create the `Structure Revision <../html-userguide/jscofe_qna.structure_revision.html>`_
        and does not substitute imported data in current Structure Revision. To created a
        new Structure Revision, run the :doc:`doc.task.ASUDef` task. To replace items in
        current Structure Revision, use :doc:`doc.task.EditRevision` task instead of
        this one.

.. note::
        `CCP4 Cloud does NOT allow users to upload diffraction images <../src-userguide/jscofe_tips.Work_with_diffraction_images.html>`_ 


**Useful links**

 `PDBx/mmCIF format <https://pdb101.rcsb.org/learn/guide-to-understanding-pdb-data/beginner%E2%80%99s-guide-to-pdb-structures-and-the-pdbx-mmcif-format>`_
 
 `MTZ format <https://www.ccp4.ac.uk/html/mtzformat.html>`_

 `PDB format <https://www.ccp4.ac.uk/html/pdbformat.html>`_

 `Ligand descriptions <https://www.ccp4.ac.uk/html/intro_mon_lib.html>`_
 
