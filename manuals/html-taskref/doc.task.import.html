
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>2.1. Data Import &#8212; CCP4 Cloud 1.6 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/haiku.css" />
    <link rel="stylesheet" type="text/css" href="_static/contentui.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/contentui.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="2.2. Import Sequence(s) by Copy-Paste" href="doc.task.ImportSeqCP.html" />
    <link rel="prev" title="2. Data Import" href="Data_Import.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="index.html">
          <span>CCP4 Cloud 1.6 documentation</span></a></h1>
        <h2 class="heading"><span>2.1. Data Import</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="Data_Import.html"><span class="section-number">2. </span>Data Import</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="doc.task.ImportSeqCP.html"><span class="section-number">2.2. </span>Import Sequence(s) by Copy-Paste</a>&#160;&#160;»
        </p>

      </div>
      <div class="content" role="main">
        
        
  <section id="data-import">
<h1><span class="section-number">2.1. </span>Data Import<a class="headerlink" href="#data-import" title="Permalink to this headline">¶</a></h1>
<p>Data import is almost always the first task in any Project (only the <strong>Make Ligand</strong> task may be run without any data imported). There may be as many data imports in projects as necessary, however, it is usually a good idea to import all available experimental data, sequences and molecular coordinates in the very beginning.</p>
<p><em>From user’s perspective, CCP4 Cloud operates with data objects, rather than raw files. There are only 2 points where a user deals with actual files: (1) importing and (2) exporting data to/from CCP4 Cloud Project. Data objects correspond to entities that are passed from task to task as a whole. Therefore, for all tasks, except Data Import, require choice of data objects, rather than raw files. This is done in form of drop-down selectors, pre-filled with data objects, relevant to particular task and input field only</em></p>
<section id="ccp4-cloud-data-managment">
<h2><span class="section-number">2.1.1. </span>CCP4 Cloud Data Managment<a class="headerlink" href="#ccp4-cloud-data-managment" title="Permalink to this headline">¶</a></h2>
<section id="data-object-naming">
<h3><span class="section-number">2.1.1.1. </span>Data Object Naming<a class="headerlink" href="#data-object-naming" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p><strong>From user’s perspective, CCP4 Cloud operates with data objects, rather than raw files. There are only 2 points where a user deals with actual files: (1) importing and (2) exporting data to/from CCP4 Cloud Project. Data objects correspond to entities that are passed from task to task as a whole.</strong></p>
</div></blockquote>
<p>All data objects are named according to the following template:
<code class="docutils literal notranslate"><span class="pre">[NNNN-MM]</span> <span class="pre">name</span> <span class="pre">/type/subtype(s)</span></code></p>
<p>where:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 94%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>NNNN</p></td>
<td><p>Serial number of job, which produced the data object</p></td>
</tr>
<tr class="row-even"><td><p>MM</p></td>
<td><p>Serial number of data object in the job, which produced it</p></td>
</tr>
<tr class="row-odd"><td><p>name</p></td>
<td><p>Given name, which can be derived either from the name of related file imported to the Project, or from program or task name that created the respective data, or from the output id of the Job Dialog</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td><p>Type of data object (see above)</p></td>
</tr>
<tr class="row-odd"><td><p>subtype(s)</p></td>
<td><p>Optional subtypes (see above)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="data-object-visibility">
<h3><span class="section-number">2.1.1.2. </span>Data Object Visibility<a class="headerlink" href="#data-object-visibility" title="Permalink to this headline">¶</a></h3>
<p>By default, each new job has access to data objects, imported or generated by all its parent jobs. For example:</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/doc.task.import1.png"><img alt="_images/doc.task.import1.png" src="_images/doc.task.import1.png" style="width: 529.0px; height: 284.0px;" /></a>
</div></blockquote>
<p>job [0008] has access to data imported in job [0001], MR model(s) made in job [0002] and structures produced by jobs [0006] and [0007]. However, job [0008] cannot (by default) access structures produced by jobs [0003] and [0004] because they belong to a different branch of job tree.
If you may need to use data from different branches in a subsequent job. For example, you may want to structurally compare outputs of jobs [0005] and [0008] , using Gesamt software. This can be done by multiple selection of jobs, outcome of which needs to be used, and then right-clicking on one of them in order to add the new job through the dropdown menu</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/doc.task.import2.png"><img alt="_images/doc.task.import2.png" src="_images/doc.task.import2.png" style="width: 536.0px; height: 455.0px;" /></a>
</div></blockquote>
<p>Choosing “Add job” from the dropdown menu will bring up the Task List Dialog, from which the “Structural comparison with Gesamt” task can be chosen. The new job will be added as a child to the right-clicked job ([0008] in the above Figure) and will see only data produced in jobs selected.</p>
</section>
<section id="data-objects-and-project-branching">
<h3><span class="section-number">2.1.1.3. </span>Data Objects and Project Branching<a class="headerlink" href="#data-objects-and-project-branching" title="Permalink to this headline">¶</a></h3>
<p>Limitation of data visibility along branches of the job tree helps to keep the content of input data selectors in job dialogs as conscise and relevant as possible. For new jobs, CCP4 Cloud will always offer initially data settings based on most recenty generated data (in given branch of the job tree), as well as associated data. For example, a new refinement job will have, as initial setings, the most recently produced Structure Data and reflection dataset (HKL) used to produce it. However, you can always change these settings, e.g., in order to refine structure against another compatible dataset.</p>
<p>It is therefore clear that you want to grow your Project (the job tree) in such a way that needed data is always in the scope, and you do not have to resort to breaking the default behaviour by adjusting the data visibility scope with mutiple job selection. Following these principles will help to keep your projects in the most logical way, where the structure solution pathway can be easily identified (as a branch that led to best results).</p>
<p>The disadvantage of non-branching is the gradual lose of clarity of the structure solution process with growing number of trials, as well as growing inconvenience of dealing with long lists of input data to be chosen for new tasks. While these disadvantages do not seem to be dramatic in case of simple short projects, they may become critical in not so unusual case of projects having 100s of jobs.</p>
<dl class="simple">
<dt>CCP4 Cloud does not impose any specific rules for project branching. However, it may be convenient to branch when you:</dt><dd><ul class="simple">
<li><p>start working with a new crystal / reflection dataset</p></li>
<li><p>start a new route of structure solution (e.g. trying to solve structure stage-by-stage after a failure of automated solvers)</p></li>
<li><p>try another method of phasing (e.g. EP after MR); however, do not branch if you are planning a hybrid phasing, such as using MR phases in combination with those obtained from heavy atom location</p></li>
<li><p>start working with new model for molecular replacement</p></li>
<li><p>change the composition of asymmetric unit</p></li>
<li><p>want to rerun the same job with different input parameters (job cloning)</p></li>
</ul>
</dd>
</dl>
</section>
</section>
<section id="file-formats">
<h2><span class="section-number">2.1.2. </span>File formats<a class="headerlink" href="#file-formats" title="Permalink to this headline">¶</a></h2>
<p>CCP4 Cloud operates with data objects, rather than raw files. There are only 2 points where a user deals with actual files: (1) importing and (2) exporting data to/from CCP4 Cloud Project.
Import procedure automatically identifies the type of uploaded data and converts it into CCP4 Cloud’s Data Objects</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 7%" />
<col style="width: 84%" />
<col style="width: 5%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>File</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>CCP4 Cloud Object</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Unmerged reflections</p></td>
<td><p>.mtz,  .hkl</p></td>
<td><p>All datasets found in uploaded files will be converted into individual Unmerged objects, complemented with symmetry metadata, used for subsequent merging and scaling. Useful properties of datasets, calculated with Pointless, will be presented in the output.</p></td>
<td><p>Unmerged</p></td>
</tr>
<tr class="row-odd"><td><p>Merged reflections</p></td>
<td><p>.mtz</p></td>
<td><p>Merged reflections in CCP4 file format. All datasets found in uploaded files will be converted into individual HKL objects, complemented with FreeR flag columns (unless found in the file) and truncated if necessary. Useful properties of datasets, calculated with CTruncate, will be presented in the output.</p></td>
<td><p>HKL</p></td>
</tr>
<tr class="row-even"><td><p>Sequence</p></td>
<td><p>.seq,  .pir,  .fasta</p></td>
<td><p>Macromolecular sequence.</p></td>
<td><p>Sequence</p></td>
</tr>
<tr class="row-odd"><td><p>Coordinates</p></td>
<td><p>.pdb,  .cif,  .mmcif,  .ent</p></td>
<td><p>Macromolecular coordinates. Multi-chain files will be split into single chains and added as additional XYZ objects.</p></td>
<td><p>XYZ</p></td>
</tr>
</tbody>
</table>
</section>
<section id="mtz-reflection-format">
<h2><span class="section-number">2.1.3. </span>MTZ reflection format<a class="headerlink" href="#mtz-reflection-format" title="Permalink to this headline">¶</a></h2>
<p>The MTZ file format is used for the storage of reflection data. The file contains the data and a header of metadata. The former is held as a table with rows representing reflections and columns representing different quantities for each reflection. The latter aims to make the file self-contained by including all necessary information, such as symmetry operations, cell dimensions, etc. The MTZ file is a flat-file representation of a particular data model.</p>
<p>There are exist two different types of mtz files:</p>
<ul class="simple">
<li><p><strong>unmerged</strong> is a file type in which original individual reflections are kept separate.</p></li>
<li><p><strong>merged</strong>  is file type in which all reflections merged from multiple measurements of symmetry equivalent reflections and also the different components of reflections that are partially recorded over a number of adjacent images.</p></li>
</ul>
<p>The file contains basically two classes of records - header records and reflection data records.</p>
<blockquote>
<div><div class="toggle-header docutils container">
<p>A standard reflection data file contains the following <strong>items:</strong></p>
</div>
<div class="toggle-content docutils container">
<blockquote>
<div><dl class="simple">
<dt>VERS</dt><dd><p>Version stamp</p>
</dd>
<dt>TITLE</dt><dd><p>File Title - short identification of file</p>
</dd>
<dt>NCOL</dt><dd><p>Number of columns, number of reflections in file, number of batches if number of batches &gt; 0 this indicates multi-record file</p>
</dd>
<dt>CELL</dt><dd><p>Global Cell Parameters. The use of these is deprecated in favour of the dataset cell parameters.</p>
</dd>
<dt>SORT</dt><dd><p>Sort order of 1st 5 columns in file.</p>
</dd>
<dt>SYMINF</dt><dd><p>Number of Symmetry operations
Number of Primitive operations
Lattice Type
Space Group Number
Space Group Name
Point Group Name</p>
</dd>
<dt>SYMM</dt><dd><p>Symmetry operations</p>
</dd>
<dt>RESO</dt><dd><p>Minimum and Max resolution stored as 1/d-squared</p>
</dd>
<dt>VALM</dt><dd><p>Value with which Missing Number Flag is represented.</p>
</dd>
<dt>COL</dt><dd><p>Column Label
Column Type for each column
Minimum and Maximum value in each column
ID of corresponding dataset</p>
</dd>
<dt>NDIF</dt><dd><p>Number of datasets represented in the file.</p>
</dd>
<dt>PROJECT</dt><dd><p>ID of dataset
Project Name. Normally one for each structure determination.</p>
</dd>
<dt>CRYSTAL</dt><dd><p>ID of dataset
Crystal Name (may be several for each structure determination, representing the different crystals used).</p>
</dd>
<dt>DATASET</dt><dd><p>ID of dataset
Dataset Name (may be several for each structure determination, representing the different datasets measured).</p>
</dd>
<dt>DCELL</dt><dd><p>ID of dataset
Cell dimensions (these are identical for all datasets belonging to the same crystal).</p>
</dd>
<dt>DWAVEL</dt><dd><p>ID of dataset
Wavelength (Real) for dataset.</p>
</dd>
<dt>BATCH</dt><dd><p>Batch Serial Number for each batch present. This line is only present in ‘multi-record’ files</p>
</dd>
</dl>
</div></blockquote>
</div>
</div></blockquote>
</section>
<section id="the-hkl-file">
<h2><span class="section-number">2.1.4. </span>The HKL file<a class="headerlink" href="#the-hkl-file" title="Permalink to this headline">¶</a></h2>
<p>A HKL file consists of x-ray reflections related to reflection planes (hkl) of the crystal lattice. Each of these planes obeys Bragg’s equation. The experimental reflections are characterized by the indices h k l, a measured intensity I and its error sigma(I).</p>
</section>
</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="Data_Import.html"><span class="section-number">2. </span>Data Import</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="doc.task.ImportSeqCP.html"><span class="section-number">2.2. </span>Import Sequence(s) by Copy-Paste</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.0.1.
    </div>
  </body>
</html>