======================
CCP4 Cloud Version Log
======================


**Version 1.7.005**

    *Released on --.--.2022 with CCP4 8.0.003*

    **Changes and new features**

    #. Project can be now organised in custom lists

    #. shared and imported projects maintain their original folder paths, starting from owner's name

    #. Fixed bug causing crashes when job was rerun with last used parameters from a lower-version job

    #. Added ``Structure Prediction`` task based on AlphaFold-2

    #. Fixed bug in ``SHELX Auto-EP via Crank-2`` associated with making PRASA the default choice for structure determination

    #. ``MorDA`` task can now use custom search models


**Version 1.7.004**

    *Released on 10.06.2022 with CCP4 8.0.002*

    **Changes and new features**

    #. Project can be now organised in Folders

    #. Added new tasks ``Slice`` for splitiing models in domains, and ``Slice-n-dice`` for splitting followed by auto-MR with Phaser

    #. Covalent/metal link identification switch added in ``Refmac`` task

    #. Users can be now retired by admin with moving their projects to successor

    #. Fixed a bug that could cause a number cruncher halt if tasks ``MrBump``, ``Ensemble preparation from sequences``, ``Ensemple preparation from coordinates``, ``Interactive model preparation with CCP4mg`` are forcefully terminated from the *Project Page*


**Version 1.7.003**

    *Released on 01.05.2022 with CCP4 8.0.001*

    **Changes and new features**

    #. Fixed a bug in ``Import files`` task blocking import of XDS files

    #. Fixed a bug in handling AFDB models, causing MR failure in certain cases


**Version 1.7.002**

    *Released on 27.04.2022 with CCP4 8.0.000*

    **Changes and new features**

    #. New task ``Prepare Complex MR Model`` added

    #. New task ``Model building with Modelcraft`` added

    #. New style built-in tutorials 

    #. Projects can be cloned now



**Version 1.7.001**

    *Released on 29.11.2021 with CCP4 7.1.018*

    **Changes and new features**

    #. Fixed bugs causing problems with https connections

**Version 1.6.024**

    *Released on 11.11.2021 with CCP4 7.1.017*

    **Changes and new features**

    #. Fixed a bug which could cause project loss at insertion of remarks in the middle of a tree branch

    #. Improved navigation in Help window 

    #. Documentation updates on ``Buccaneer``, ``CCP4Build``, ``Auspex`` and a number of other tasks 

    #. External documentation links are now opened in new browser's tabs

    #. Updates and fixes in ``MrBump``, ``MrParse`` and ``Ensemble preparation with CCP4mg`` related to working with the AlphaFold database

    #. Fixed bug causing *Job Dialog* malfunction if protein and rna data types are mixed in the project

    #. Fixed bug causeing failure at importing merged ``.mtz`` files with phase information but without mean amplitudes.

    #. B-factors are automatically corrected in files from AFDB and Rosetta-Fold 

    #. Demo projects may be linked directly from HTML documents

    #. Fixed bug which could cause project loss at inserting remarks while project contains tasks in exiting state

    #. Fixed bug which could cause project loss at archiving jobs at certain project tree configurations

    #. Remarks can be converted into web links (new option in the remark's icon menu)

    #. Remarks' icon menu is now scrollable and adjusting to the job dialog height

    #. Project ID can now be changed at renaming


**Version 1.6.023**

    *Released on 13.09.2021 with CCP4 7.1.016*

    **Changes and new features**

    #. ``baverage`` and ``edsats`` analysis added to quality report section of various tasks

    #. Added disagnostics on non-existing PDB codes in ``PDB Import`` task

    #. ``Dimple`` task can now work with mean amplitudes

    #. Extended functionality, resource management and ``dimple`` task in ``cloudrun`` utility

    #. Initiation of ``Autostart`` projects simplified to the choice between few templates

    #. ``simbad`` task now searches all compatible space space groups (new option)

    #. ``fitligand`` - numbering of multiple ligands fixed

    #. ``refmac5`` interface and Verdict update  

    #. *Table 1* added to quality report

    #. Fixed bug causing server crash at stopping tasks running on disconnected back-ends

    #. Improved stability in shared projects, which was showing up at high latency of network communication

    #. Fixed a bug in ``MrBump`` task causing the task to crash if no solution is found

    #. All Workflows updated to auto-generate the 3-letter ligand code if not provided or if on excluded list
  
    #. New ``Simple MR`` Workflow added.

    #. Fixed a bug causing malfunction when using Safari 14

    #. Documentation updates (Fragment-Based Molecular Replacement)

    #. Fixed a bug preventing deletion of old projects

    #. Fixed a bug in ``parrot`` and ``shelx-mr`` tasks preventing density modifciation immediately after ``hop-on`` import

    #. Fixed a bug due to which open dialogs could persist when switching between principal pages (Project, Account etc.)

    #. AlphaFold-2 support introduced in ``MrBump`` and ``Ensemble from Sequence`` tasks

    #. ``Coot`` task, if started from *Job Dialog* and produced no changes, is now automatically deleted.

    #. Hydrogens with zero occupancy may be now removed in the ``deposition`` task

    #. Project sharing/unsharing is now confirmed and notified by e-mail

    #. ``MrParse`` task added

    #. Sequence-lee and homology-based loop building options added to the ``Arp/wArp`` task

    #. Framework for exposing optional, 3rd-party licensed components to end users is added to CCP4 Cloud



**Version 1.6.022**

    *Released on 28.05.2021 with CCP4 7.1.014*

    **Changes and new features**

    #. ``cloudrun`` utility for making projects, uploading data and starting tasks from command prompt

    #. Fixed bug in stats bookkeeping

    #. Added automatic workflow for refinement and ligand fitting

    #. Fixed bug causing corruption of shared projects in certain circumstances 

    #. Introduced hot tips in front page

    #. Fixed bug causing task running spinner to keep going after task was terminated for certain type of tasks

    #. Multiple target sequences are allowed in ``MrBump`` auto-MR pipeline, as well as ``auto-MR`` and ``auto-EP`` workflows

    #. Documentation updates 

    #. Fixed bug which did not allow to unjoin shared projects

    #. ``MrBump`` task modified

    #. Fixed bug in making PDB deposition package from ``Buster`` data

    #. ``Deposition`` task will now ask for target sequence if it was not given in the Project.

    #. Sort order of List of Projects now persists.

    #. It is now possible to specify image range and block size at working with HDF5 files in ``Xia-2`` task

    #. Refinement with ``Buster`` no longer requires a preliminary ``Refmac`` run for producing a suitable PDB file


**Version 1.6.021**

    *Released on 15.04.2021 with CCP4 7.1.013*

    **Changes and new features**

    #. Deleting running jobs made made a safe regular operation

    #. Improved stability of the PDB deposition task

    #. Fixed bug in importing expected sequences from the PDB (sequences in imported PDB headers)

    #. CCP4go task is retired 

    #. Autosolve project mode converted to Autostart mode, and Expert mode converted to Standard mode 

    #. Introduced Automatic Workflows

    #. Documentation updates



**Version 1.6.020**

    *Released on 15.03.2021 with CCP4 7.1.012*

    **Changes and new features**

    #. Added ``Arcimboldo`` task for Fragment-based Molecuar Replacement

    #. Multiple GUI bugs fixed

    #. Fixed a bug breaking import of certain project files on MS Windows systems

    #. Buster 2.10.4 adopted

    #. Fixed a bug causing CCP4 Cloud to stall after running MR ensemble preparation tasks under certain circumstances

    #. Ligand libraries with duplicate component lists (old bugs elsewhere) can now be imported

    #. ``Crank-2`` has new parameter "parallel model building depth" to balance between model building efficiency and speed

    #. Fixed a bug in ``Coot`` task on Windows causing the loss of backup copies

    #. ``Deposition`` task can now work with Buster output directly

    #. Fixed a bug due to which CCP4 Cloud erroneously asked for CPU quota in desktop mode

    #. Fixed bug in parsing newer HHPRED files (affected the ``Model preparation from alignment`` task)



**Version 1.6.019**

    *Released on 19.02.2021 with CCP4 7.1.011*

    **Changes and new features**

    #. Added ``Import & Replace`` task, combining generic import and revision editing

    #. Specification of wavelength made compulsory on .sca file import

    #. Minor changes in task names and re-arangements in Task List

    #. ``Coot`` task now loads revision's heavy-atom substructure automatically

    #. Anomalous maps are calculated automatically in ``Refmac`` and ``Buster`` tasks

    #. Projects may be shared from Project List, without opening the Project

    #. ``Hop on`` and ``Import & Replace`` tasks can import from Cloud storage

    #. Fixed bug in ``Gemmi`` task blocking writing results in output file at certain circumstances

    #. Fixed bug in ``Pisa`` task blocking visualisation of NCS-mates in UglyMol

    #. Jobs cannot be moved up the Job Tree now

    #. Fixed bug blocking auto-launch of ``Refmac`` after ``Coot`` finishes via *Exit and refine* in shared projects

    #. Fixed bugs in Task Dock which were causing instability

    #. Fixed bug in import of phases, causing misinterpretation of direct and difference maps

    #. Project summaries and scores added in the *List of Projects*

    #. Gelly options added to ``Buster`` task



**Version 1.6.018**

    *Released on 15.01.2021 with CCP4 7.1.010*

    **Changes and new features**

    #. Verdict section added to ``Simbad`` task

    #. Fixed a bug causing loss of running jobs at server restart

    #. Added a toolbar button for switching between single and multiple selection in project tree

    #. Fixed a bug in ``Phaser-MR`` task, causing incorrect specification of Space Group in report pages

    #. Fixed a bug in ``Make Ligand`` task, causing failure if structure revision is produced in the task-contained branch

    #. Fixed a bug in ``Prepare MR Model from XYZ`` task, causing incorrect identification of sequence identity for nucleic acid models

    #. Added import Scalepack files (.sca)

    #. Fixed a bug in preparing DNA/RNA MR models, affecting sequence identity calculations

    #. Guided data import made optional, may be switched on/off in the *Preferences* section of the *My Account* page

    #. Fixed bug in unjoining shared projects

    #. Fixed bug causing duplication of input data supplied to Coot in certain circumstances

    #. Introduced configurable task dock for favourite tasks

    #. Add project function complemented with the choice of project type: autosolve, expert, or migration from elsewhere


**Version 1.6.017**

    *Released on 08.12.2020 with CCP4 7.1.009*

    **Changes and new features**

    #. Fixed a bug blocking addition of new tasks after placing ``Remark`` at project's top

    #. ``Change Resolution`` task fixed to allow the subsequent job tree development

    #. Fixed a bug in ``Phaser-MR`` task, causing the task to fail under certain circumstances

    #. ``Import from PDB`` and ``Model Preparation from Alignment Data`` tasks will now switch to downloading CIF-formatted files from the PDB if PDB format for the requested PDB entry is not available (typical for large structures with 2-character chain IDs)

    #. CCP4mg buttons in task reports are now hidden when no CCP4 Cloud Client is running

    #. ``CCP4Build`` task can be stopped gracefully, without losing already calculated results

    #. Excessively long branches may be archived as folders for convenience

    #. Documentation updates



**Version 1.6.016**

    *Released on 12.11.2020 with CCP4 7.1.008*

    **Changes and new features**

    #. VDW repulsion weight parameter added in ``Refmac`` task

    #. ``Refmac`` verdict section updated

    #. Map selection added in ``FitLigand`` and ``FitWaters`` tasks

    #. New user preferences: login into last project, default window sizes for job dialogs and viewers 

    #. Stalled jobs can be now pushed with button *Refresh* in the project page toolbar

    #. ``Coot`` task uses the last backup copy if user forgets to save coordinates

    #. New menu item: Load from Cloud backup, introduced in ``Coot``, which allows a user to restore from backup copy if previous Coot Cloud task finished unsuccessfully

    #. Fixed bug in ``Buster``, because of which the task did not pass ligand information on descendants

    #. Small bug fixes in ``Edit Revision``

    #. Automatic clean-up of Front-End's Job Register added

    #. ``CCP4go`` task is back to functional state, a set of bugs fixed; the task can now use pre-imported data

    #. Documentation updates ( Low-Resolution Refinement with ``Lorestr``, ``REFMAC5``)




**Version 1.6.015**

    *Released on 14.10.2020 with CCP4 7.1.005*

    **Changes and new features**

    #. ``Gemmi`` task added for custom manipulation with atomic coordinates

    #. ``Refmac`` verdict section updated

    #. ED fit analysis improvements in ``CCP4Build``, leading to more stable convergence

    #. Documentation updates (DM with ``Acorn``)

    #. Crank-2 report updated and documented



**Version 1.6.014**

    *Released on 14.09.2020 with CCP4 7.1.004*

    **Changes and new features**

    #. ``Lorestr`` can now work with partially fragmented models (*e.g.,* after automatic model building)

    #. Verdict sections aded to ``Lorestr`` and ``Dimple`` reports

    #. Fixed a bug in ``MrBump``, which was causing report page corruption

    #. Fixed a bug in ``CCP4Build`` causing stop at mtz files with rare format features

    #. Resolved the cross-origin conflict with local client, causing corruption in report pages of tasks
       running on user devices, such as ``Arp/wArp``

    #. Fixed bugs in ``Buster`` task, which caused task failures under specific conditions

    #. Option for removing coordinates added to edit revision tasks

    #. Video tutorials added in Documentation

    #. Port numbers for CCP4 Cloud Client made stable, which allows password management in users browsers

    #. Documentation updated ( Density modification, DM with ``Parrot``)



**Version 1.6.013**

    *Released on 11.08.2020 with CCP4 7.1.003*

    **Changes and new features**

    #. Shared Projects are now joined, rather than imported. This means that
       all users, who share a project, are working on the same copy of it. 
       Simultaneous work of several users on shared projects is supported.
       Only project owners can share, delete or rename their project, other users can
       join or unjoin them in their *Project Lists*.
       
    #. Documentation updated (``DIMPLE``, Automatic Image Processing with ``Xia-2``,
       Structure Superposition with ``LsqKab``)

    #. ``DIMPLE`` task optimised by eliminating the trailing zero-cycle run of
       ``Refmac``.

    #. Import of sequences from the PDB now produces sequences from both atomic
       coordinates (may be used for automatic construction of the corresponding
       structure revision) and from header annotation (more suitable for making 
       MR search models).

    #. ``XYZ Utils`` can now import sequences from atomic coordinates, task
       interface changed

    #. ``Lorestr`` can now work on structures with ligand molecules


**Version 1.6.012**

    *Released on 03.07.2020 with CCP4 7.1.002*

    **Changes and new features**

    #. CROSSEC task (anomalous scattering factors calculations) now operates with
       both wavelengths and photon energies. In addition to the general plot,
       anomalous scattering factors may be calculated also for up to 6 selected
       wavelengths or photon energies
       
    #. User guidance sections (Verdicts) are added to ASU, Phaser, CCP4Build and
       Refmac task reports
       
    #. Documentation updated
       
    #. Fixed a bug in the import procedure for HHPRED alignments, related to
       mispositioning of residue numbers under certain circumstances
       
    #. CCP4BUILD modified with the purpose to improve convergence and 
       reproduceability of results at repeat runs.
       
    #. Fixed a bug in the import procedure for merged MTZ files, related to 
       python2 / python3 code compatibility
       
    #. Added new task for importing sequences by copy-pasting (Task List
       Section *Data Import*)
       
    #. Cloud path, used in tasks importing data from Cloud storage, is passed as 
       current path to task clones and descendants
       
    #. Fixed a bug, preventing import of certain types of ligand description 
       files and ligand dictionaries



**Version 1.6.011**

    *Released on 02.06.2020 with CCP4 7.1.001*
    
