======================
CCP4 Cloud Version Log
======================

**Version 1.7.0016** 

    *Released on __.__.2023 with CCP4 8.0.016*

    #. Added new parameters for ``Arcimboldo Shredder`` and ``Arcimboldo Borges``

    #. Fixed Dimple Workflow data handling

    #. Deposition files can now be prepared even if PDB Validation Report was not obtained

    #. Fixed task report in ``xia-2`` by removing external HTML references

    #. Additional structures and ligands can now be loaded in ``Moorhen``

    #. ``Moorhen`` results are now saved automatically if there were edits

    #. Fixed bug at saving ``Moorhen`` results in shared projects

    #. Anomalous maps from ``Refmac`` are now loaded in ``Moorhen``

    #. Data confidentiality rules are now configurable

    #. Task version is now enforced in jobs copy-pasting

    #. ``Moorhen`` jobs will finish gracefully even if Job Dialog is not closed

    #. ``Dimple`` task fixed and is working again

    #. Job despatch mechanism can be now configured to optimise communications in Cloud or NC loads

    #. Refmac5 replaced by `Refmacat <https://doi.org/10.1107/S2059798323002413>`_


**Version 1.7.0015** 

    *Released on 16.08.2023 with CCP4 8.0.015*


    #. ``Deposition task`` replaced by the pair of ``PDB Validation report`` and ``PDB Deposition files``

    #. Fixed a bug allowing to create tasks from *Task Dock* irrespectively of data available

    #. ``Find waters`` now looks for map level optimising ``R-factor``

    #. Parameters, different from default, are now highlighted with blue italics

    #. Jobs can be copy-pasted with set parameters

    #. Fixed PDB Import for cases when sequence file is not found

    #. Refinement parameters in ``Find waters`` are now taken from last refinement job on the branch

    #. Added graceful termination of open tasks when leaving *Project Page*


**Version 1.7.0014** 

    *Released on 19.07.2023 with CCP4 8.0.013*

    #. Column names are now preserved at importing merged mtz files when possible

    #. Fixed bug which could put crashed MorDA job in zombie state

    #. ``Omit`` task added

    #. ``ShelxEMR`` task now accepts sequences and build side chains

    #. Fixed bug in ``Make Ligand`` causing success report in case of errors

    #. User name and e-mail are verified before sharing now 

    #. New function *"check workteam"* added to *Project page*



**Version 1.7.0013** 

    *Released on 13.06.2023 with CCP4 8.0.012*


    #. Added ligand upload option in workflows 

    #. Fixed workflow termination if non-ligands were fitted

    #. Added option to fit uploaded ligand with ligand generated from ligand description

    #. ``Pairef`` fixes

    #. Added compatibility with previous version for ``Slice`` and ``Slice'N'Dice`` tasks

    #. Added Morda try in Auto-MR workflow if ``mrBump`` run didn't succeed

    #. Validation of login names and user names fixed

    #. Persistance of basic/full task list modes enhanced

    #. Share/Join projects removed in Desktop mode as not needed

    #. Graceful handling of wrong Cloud Storage path implemented

    #. Fixed bug not letting to rename projects right after unsharing


**Version 1.7.0012** 

    *Released on 04.04.2023 with CCP4 8.0.011*

    #. Gemmi 0.6.0 compatibility fixes

    #. Added ``Moorhen`` task for interactive model building

    #. Roadmap updated

    #. ``Moorhen`` viewer added to ``Buccaneer``, ``Modelcraft``, ``CCP4Build`` for live build updates

    #. Removed use quotas in Desktop mode

    #. Fixed bug in calculating projects` stats such as *Rfree* achieved

    #. Fixed bug in PDB-REDO authorisation in Desktop mode

    #. Project sharing/joining disabled in Desktop mode

    #. Fixed project ownership bug at importing projects
    

**Version 1.7.0011** 

    *Released on 29.03.2023 with CCP4 8.0.010*

    **Changes and new features**

    #. Added `SC <../html-taskref/doc.task.SC.html>`_, `Rigid-Body Refinement with Phaser <../html-taskref/doc.task.PhaserRB.html>`_, `Pairef <../html-taskref/doc.task.PaiRef.html>`_ and `PDB-REDO <../html-taskref/doc.task.PDBREDO.html>`_ tasks and corresponding documentation articles

    #. Demo project updated

    #. Roadmap updated

    #. Fixed random task disappearance in shared project

    #. Fixed random disappearance of data objects in the Input Panel of Job Dialog after task completion

    #. Fixed bug in zombi job management, which locked zombies in case of file read errors


**Version 1.7.0010** 
    
    *Released on 02.02.2023 with CCP4 8.0.009*

    **Changes and new features**

    #. Added ``Rotamer``, ``Areaimol``, ``Rampage``, ``Post-MR model correction with Sheetbend`` tasks and corresponding documentation articles

    #. User guide documentation updated



**Version 1.7.009**

    *Released with CCP4 8.0.008*

    **Changes and new features**

    #. Fixed bugs in renaming and removing project folders and lists

    #. Added zombie awakening button in administrative page

    #. Project atlas added to documentation

    #. External phases added to ``Refmac`` task

    #. Density fit modes in ``Molrep`` and ``Phaser-MR`` optimised

    #. Fixed bug in cloning projects, which made them to always clone into ``My Projects``

    #. Added task ``AWNuce`` for building polynucleotides with Arp/wArp

    #. Added task ``Optimise ASU`` for making compact ASUs

   


**Version 1.7.008**

    *Released on 12.12.2022 with CCP4 8.0.007*

    **Changes and new features**

    #. Fixed bug causing Front-End crash at CCP4 update notifications

    #. Fixed bug causing failure in acquisition PDB Validation report at certain circumstances

    #. Added task ``Text Editor`` for editing text data objects online

    #. Added task ``Contact`` for calculating intermolecular contacts

    #. Added option for running ``PDBSET`` as part of ``XYZ Utils``

    #. Introduced auto-topup of disk space

    #. Stability fixes

    #. Cosmetic improvements, documentation and tutorial extensions

    #. Added ``ROTAMER`` and ``AREAIMOL`` tasks

    #. Added documentation for ``Contact``, ``Rotamer``, ``Areaimol`` tasks

    #. Added ligand exclusion control in PISA

    #. Added project archiving facility

    #. Added ``FindMySequence`` task






**Version 1.7.007**

    *Released on 05.10.2022 with CCP4 8.0.005*

    **Changes and new features**

    #. Fixed bug in ``Phaser-MR`` which did not let fitting models sequentially

    #. Fixed bug in ``Edit Structure Revision`` which did not let replacing phases in certain circumstances

    #. Fixed bug in choosing destination folder at cloning projects, importing projects and loading tutorials

    #. Cosmetic improvements, documentation and tutorials extended

    #. Fixed a bug which could cause in-browser client crash at closing Job Dialogs in certain circumstances



**Version 1.7.006**

    *Released on 16.08.2022 with CCP4 8.0.004*

    **Changes and new features**

    #. ``Import from PDB`` task renamed as ``Import from PDB/AFDB`` and can fetch AFDB structures by UniProt Id


**Version 1.7.005**

    *Released on 05.08.2022 with CCP4 8.0.003*

    **Changes and new features**

    #. Project can be now organised in custom lists

    #. Shared and imported projects maintain their original folder paths, starting from owner's name

    #. Fixed bug causing crashes when job was rerun with last used parameters from a lower-version job

    #. Added ``Structure Prediction`` task based on AlphaFold-2

    #. Fixed bug in ``SHELX Auto-EP via Crank-2`` associated with making PRASA the default choice for structure determination

    #. ``MorDA`` task can now use custom search models

    #. Density search protocol is added in ``Molrep`` task

    #. Generic ``Reindex`` task added to the Toolbox

    #. Added plain A-Z list of task with filtration by keywords

    #. Graceful stop added to ``Crank-2``

    #. OpenFold support added to the ``Structure Prediction`` task

    #. Fixed bug in on-login choice of starting with "All projects", "My Projects", "Last folder" and "last project", due to which the only choice was "All projects"


**Version 1.7.004**

    *Released on 10.06.2022 with CCP4 8.0.002*

    **Changes and new features**

    #. Project can be now organised in Folders

    #. Added new tasks ``Slice`` for splitting models in domains, and ``Slice-n-dice`` for splitting followed by auto-MR with Phaser

    #. Covalent/metal link identification switch added in ``Refmac`` task

    #. Users can be now retired by admin with moving their projects to successor

    #. Fixed a bug that could cause a number cruncher halt if tasks ``MrBump``, ``Ensemble preparation from sequences``, ``Ensemple preparation from coordinates``, ``Interactive model preparation with CCP4mg`` are forcefully terminated from the *Project Page*


**Version 1.7.003**

    *Released on 01.05.2022 with CCP4 8.0.001*

    **Changes and new features**

    #. Fixed a bug in ``Import files`` task blocking import of XDS files

    #. Fixed a bug in handling AFDB models, causing MR failure in certain cases


**Version 1.7.002**

    *Released on 27.04.2022 with CCP4 8.0.000*

    **Changes and new features**

    #. New task ``Prepare Complex MR Model`` added

    #. New task ``Model building with Modelcraft`` added

    #. New style built-in tutorials 

    #. Projects can be cloned now



**Version 1.7.001**

    *Released on 29.11.2021 with CCP4 7.1.018*

    **Changes and new features**

    #. Fixed bugs causing problems with https connections

**Version 1.6.024**

    *Released on 11.11.2021 with CCP4 7.1.017*

    **Changes and new features**

    #. Fixed a bug which could cause project loss at insertion of remarks in the middle of a tree branch

    #. Improved navigation in Help window 

    #. Documentation updates on ``Buccaneer``, ``CCP4Build``, ``Auspex`` and a number of other tasks 

    #. External documentation links are now opened in new browser's tabs

    #. Updates and fixes in ``MrBump``, ``MrParse`` and ``Ensemble preparation with CCP4mg`` related to working with the AlphaFold database

    #. Fixed bug causing *Job Dialog* malfunction if protein and rna data types are mixed in the project

    #. Fixed bug causing failure at importing merged ``.mtz`` files with phase information but without mean amplitudes.

    #. B-factors are automatically corrected in files from AFDB and Rosetta-Fold 

    #. Demo projects may be linked directly from HTML documents

    #. Fixed bug which could cause project loss at inserting remarks while project contains tasks in exiting state

    #. Fixed bug which could cause project loss at archiving jobs at certain project tree configurations

    #. Remarks can be converted into web links (new option in the remark's icon menu)

    #. Remarks' icon menu is now scrollable and adjusting to the job dialog height

    #. Project ID can now be changed at renaming


**Version 1.6.023**

    *Released on 13.09.2021 with CCP4 7.1.016*

    **Changes and new features**

    #. ``baverage`` and ``edsats`` analysis added to quality report section of various tasks

    #. Added diagnostics on non-existing PDB codes in ``PDB Import`` task

    #. ``Dimple`` task can now work with mean amplitudes

    #. Extended functionality, resource management and ``dimple`` task in ``cloudrun`` utility

    #. Initiation of ``Autostart`` projects simplified to the choice between few templates

    #. ``simbad`` task now searches all compatible space space groups (new option)

    #. ``fitligand`` - numbering of multiple ligands fixed

    #. ``refmac5`` interface and Verdict update  

    #. *Table 1* added to quality report

    #. Fixed bug causing server crash at stopping tasks running on disconnected back-ends

    #. Improved stability in shared projects, which was showing up at high latency of network communication

    #. Fixed a bug in ``MrBump`` task causing the task to crash if no solution is found

    #. All Workflows updated to auto-generate the 3-letter ligand code if not provided or if on excluded list
  
    #. New ``Simple MR`` Workflow added.

    #. Fixed a bug causing malfunction when using Safari 14

    #. Documentation updates (Fragment-Based Molecular Replacement)

    #. Fixed a bug preventing deletion of old projects

    #. Fixed a bug in ``parrot`` and ``shelx-mr`` tasks preventing density modifciation immediately after ``hop-on`` import

    #. Fixed a bug due to which open dialogs could persist when switching between principal pages (Project, Account etc.)

    #. AlphaFold-2 support introduced in ``MrBump`` and ``Ensemble from Sequence`` tasks

    #. ``Coot`` task, if started from *Job Dialog* and produced no changes, is now automatically deleted.

    #. Hydrogens with zero occupancy may be now removed in the ``deposition`` task

    #. Project sharing/unsharing is now confirmed and notified by e-mail

    #. ``MrParse`` task added

    #. Sequence-lee and homology-based loop building options added to the ``Arp/wArp`` task

    #. Framework for exposing optional, 3rd-party licensed components to end users is added to CCP4 Cloud



**Version 1.6.022**

    *Released on 28.05.2021 with CCP4 7.1.014*

    **Changes and new features**

    #. ``cloudrun`` utility for making projects, uploading data and starting tasks from command prompt

    #. Fixed bug in stats bookkeeping

    #. Added automatic workflow for refinement and ligand fitting

    #. Fixed bug causing corruption of shared projects in certain circumstances 

    #. Introduced hot tips in front page

    #. Fixed bug causing task running spinner to keep going after task was terminated for certain type of tasks

    #. Multiple target sequences are allowed in ``MrBump`` auto-MR pipeline, as well as ``auto-MR`` and ``auto-EP`` workflows

    #. Documentation updates 

    #. Fixed bug which did not allow to unjoin shared projects

    #. ``MrBump`` task modified

    #. Fixed bug in making PDB deposition package from ``Buster`` data

    #. ``Deposition`` task will now ask for target sequence if it was not given in the Project.

    #. Sort order of List of Projects now persists.

    #. It is now possible to specify image range and block size at working with HDF5 files in ``Xia-2`` task

    #. Refinement with ``Buster`` no longer requires a preliminary ``Refmac`` run for producing a suitable PDB file


**Version 1.6.021**

    *Released on 15.04.2021 with CCP4 7.1.013*

    **Changes and new features**

    #. Deleting running jobs made made a safe regular operation

    #. Improved stability of the PDB deposition task

    #. Fixed bug in importing expected sequences from the PDB (sequences in imported PDB headers)

    #. CCP4go task is retired 

    #. Autosolve project mode converted to Autostart mode, and Expert mode converted to Standard mode 

    #. Introduced Automatic Workflows

    #. Documentation updates



**Version 1.6.020**

    *Released on 15.03.2021 with CCP4 7.1.012*

    **Changes and new features**

    #. Added ``Arcimboldo`` task for Fragment-based Molecuar Replacement

    #. Multiple GUI bugs fixed

    #. Fixed a bug breaking import of certain project files on MS Windows systems

    #. Buster 2.10.4 adopted

    #. Fixed a bug causing CCP4 Cloud to stall after running MR ensemble preparation tasks under certain circumstances

    #. Ligand libraries with duplicate component lists (old bugs elsewhere) can now be imported

    #. ``Crank-2`` has new parameter "parallel model building depth" to balance between model building efficiency and speed

    #. Fixed a bug in ``Coot`` task on Windows causing the loss of backup copies

    #. ``Deposition`` task can now work with Buster output directly

    #. Fixed a bug due to which CCP4 Cloud erroneously asked for CPU quota in desktop mode

    #. Fixed bug in parsing newer HHPRED files (affected the ``Model preparation from alignment`` task)



**Version 1.6.019**

    *Released on 19.02.2021 with CCP4 7.1.011*

    **Changes and new features**

    #. Added ``Import & Replace`` task, combining generic import and revision editing

    #. Specification of wavelength made compulsory on .sca file import

    #. Minor changes in task names and re-arangements in Task List

    #. ``Coot`` task now loads revision's heavy-atom substructure automatically

    #. Anomalous maps are calculated automatically in ``Refmac`` and ``Buster`` tasks

    #. Projects may be shared from Project List, without opening the Project

    #. ``Hop on`` and ``Import & Replace`` tasks can import from Cloud storage

    #. Fixed bug in ``Gemmi`` task blocking writing results in output file at certain circumstances

    #. Fixed bug in ``Pisa`` task blocking visualisation of NCS-mates in UglyMol

    #. Jobs cannot be moved up the Job Tree now

    #. Fixed bug blocking auto-launch of ``Refmac`` after ``Coot`` finishes via *Exit and refine* in shared projects

    #. Fixed bugs in Task Dock which were causing instability

    #. Fixed bug in import of phases, causing misinterpretation of direct and difference maps

    #. Project summaries and scores added in the *List of Projects*

    #. Gelly options added to ``Buster`` task



**Version 1.6.018**

    *Released on 15.01.2021 with CCP4 7.1.010*

    **Changes and new features**

    #. Verdict section added to ``Simbad`` task

    #. Fixed a bug causing loss of running jobs at server restart

    #. Added a toolbar button for switching between single and multiple selection in project tree

    #. Fixed a bug in ``Phaser-MR`` task, causing incorrect specification of Space Group in report pages

    #. Fixed a bug in ``Make Ligand`` task, causing failure if structure revision is produced in the task-contained branch

    #. Fixed a bug in ``Prepare MR Model from XYZ`` task, causing incorrect identification of sequence identity for nucleic acid models

    #. Added import Scalepack files (.sca)

    #. Fixed a bug in preparing DNA/RNA MR models, affecting sequence identity calculations

    #. Guided data import made optional, may be switched on/off in the *Preferences* section of the *My Account* page

    #. Fixed bug in unjoining shared projects

    #. Fixed bug causing duplication of input data supplied to Coot in certain circumstances

    #. Introduced configurable task dock for favourite tasks

    #. Add project function complemented with the choice of project type: autosolve, expert, or migration from elsewhere


**Version 1.6.017**

    *Released on 08.12.2020 with CCP4 7.1.009*

    **Changes and new features**

    #. Fixed a bug blocking addition of new tasks after placing ``Remark`` at project's top

    #. ``Change Resolution`` task fixed to allow the subsequent job tree development

    #. Fixed a bug in ``Phaser-MR`` task, causing the task to fail under certain circumstances

    #. ``Import from PDB`` and ``Model Preparation from Alignment Data`` tasks will now switch to downloading CIF-formatted files from the PDB if PDB format for the requested PDB entry is not available (typical for large structures with 2-character chain IDs)

    #. CCP4mg buttons in task reports are now hidden when no CCP4 Cloud Client is running

    #. ``CCP4Build`` task can be stopped gracefully, without losing already calculated results

    #. Excessively long branches may be archived as folders for convenience

    #. Documentation updates



**Version 1.6.016**

    *Released on 12.11.2020 with CCP4 7.1.008*

    **Changes and new features**

    #. VDW repulsion weight parameter added in ``Refmac`` task

    #. ``Refmac`` verdict section updated

    #. Map selection added in ``FitLigand`` and ``FitWaters`` tasks

    #. New user preferences: login into last project, default window sizes for job dialogs and viewers 

    #. Stalled jobs can be now pushed with button *Refresh* in the project page toolbar

    #. ``Coot`` task uses the last backup copy if user forgets to save coordinates

    #. New menu item: Load from Cloud backup, introduced in ``Coot``, which allows a user to restore from backup copy if previous Coot Cloud task finished unsuccessfully

    #. Fixed bug in ``Buster``, because of which the task did not pass ligand information on descendants

    #. Small bug fixes in ``Edit Revision``

    #. Automatic clean-up of Front-End's Job Register added

    #. ``CCP4go`` task is back to functional state, a set of bugs fixed; the task can now use pre-imported data

    #. Documentation updates ( Low-Resolution Refinement with ``Lorestr``, ``REFMAC5``)




**Version 1.6.015**

    *Released on 14.10.2020 with CCP4 7.1.005*

    **Changes and new features**

    #. ``Gemmi`` task added for custom manipulation with atomic coordinates

    #. ``Refmac`` verdict section updated

    #. ED fit analysis improvements in ``CCP4Build``, leading to more stable convergence

    #. Documentation updates (DM with ``Acorn``)

    #. Crank-2 report updated and documented



**Version 1.6.014**

    *Released on 14.09.2020 with CCP4 7.1.004*

    **Changes and new features**

    #. ``Lorestr`` can now work with partially fragmented models (*e.g.,* after automatic model building)

    #. Verdict sections aded to ``Lorestr`` and ``Dimple`` reports

    #. Fixed a bug in ``MrBump``, which was causing report page corruption

    #. Fixed a bug in ``CCP4Build`` causing stop at mtz files with rare format features

    #. Resolved the cross-origin conflict with local client, causing corruption in report pages of tasks
       running on user devices, such as ``Arp/wArp``

    #. Fixed bugs in ``Buster`` task, which caused task failures under specific conditions

    #. Option for removing coordinates added to edit revision tasks

    #. Video tutorials added in Documentation

    #. Port numbers for CCP4 Cloud Client made stable, which allows password management in users browsers

    #. Documentation updated ( Density modification, DM with ``Parrot``)



**Version 1.6.013**

    *Released on 11.08.2020 with CCP4 7.1.003*

    **Changes and new features**

    #. Shared Projects are now joined, rather than imported. This means that
       all users, who share a project, are working on the same copy of it. 
       Simultaneous work of several users on shared projects is supported.
       Only project owners can share, delete or rename their project, other users can
       join or unjoin them in their *Project Lists*.
       
    #. Documentation updated (``DIMPLE``, Automatic Image Processing with ``Xia-2``,
       Structure Superposition with ``LsqKab``)

    #. ``DIMPLE`` task optimised by eliminating the trailing zero-cycle run of
       ``Refmac``.

    #. Import of sequences from the PDB now produces sequences from both atomic
       coordinates (may be used for automatic construction of the corresponding
       structure revision) and from header annotation (more suitable for making 
       MR search models).

    #. ``XYZ Utils`` can now import sequences from atomic coordinates, task
       interface changed

    #. ``Lorestr`` can now work on structures with ligand molecules


**Version 1.6.012**

    *Released on 03.07.2020 with CCP4 7.1.002*

    **Changes and new features**

    #. CROSSEC task (anomalous scattering factors calculations) now operates with
       both wavelengths and photon energies. In addition to the general plot,
       anomalous scattering factors may be calculated also for up to 6 selected
       wavelengths or photon energies
       
    #. User guidance sections (Verdicts) are added to ASU, Phaser, CCP4Build and
       Refmac task reports
       
    #. Documentation updated
       
    #. Fixed a bug in the import procedure for HHPRED alignments, related to
       mispositioning of residue numbers under certain circumstances
       
    #. CCP4BUILD modified with the purpose to improve convergence and 
       reproduceability of results at repeat runs.
       
    #. Fixed a bug in the import procedure for merged MTZ files, related to 
       python2 / python3 code compatibility
       
    #. Added new task for importing sequences by copy-pasting (Task List
       Section *Data Import*)
       
    #. Cloud path, used in tasks importing data from Cloud storage, is passed as 
       current path to task clones and descendants
       
    #. Fixed a bug, preventing import of certain types of ligand description 
       files and ligand dictionaries



**Version 1.6.011**

    *Released on 02.06.2020 with CCP4 7.1.001*
    
