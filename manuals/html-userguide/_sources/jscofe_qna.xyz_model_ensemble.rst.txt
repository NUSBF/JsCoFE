=======================================
What are *XYZ*, *Model*, and *Ensemble*?
=======================================

**XYZ**, **Model**, and **Ensemble** are related but distinct types of data in CCP4 Cloud:

- **XYZ**  
  A simple data type representing bare atomic coordinates, typically sourced from PDB or mmCIF-formatted files.

- **Model**  
  A complex data type used to represent search models for Molecular Replacement (MR). 
  It includes:

  - XYZ coordinates of one or more macromolecular chains  
  - Target sequence(s) that the chains relate to  
  - Corresponding similarity scores, such as sequence identity and estimated r.m.s.d.

- **Ensemble**  
  Another complex data type used in MR tasks, representing sets of closely related
  *Models*. These are:

  - Superposed on each other  
  - Truncated to the same length, if necessary  

**Models** and **Ensembles** can be used in `Phaser-MR <../html-taskref/doc.task.Phaser.html>`_ 
and `Molrep <../html-taskref/doc.task.Molrep.html>`_ tasks, while **XYZs cannot be used** 
directly.

------------------------------
*Model* and *Ensemble* Preparation
------------------------------

Models and Ensembles are prepared from XYZ and/or Sequence data using the following tasks 
found in the `Molecular Replacement <../html-taskref/Molecular_Replacement.html>`_ section 
of the `Task List <jscofe_tasklist.html>`_:

- `Find and Prepare MR Models with MrParse <../html-taskref/doc.task.MrParse.html>`_  
- `Prepare MR Model(s) from Coordinate data <../html-taskref/doc.task.ModelPrepXYZ.html>`_  
- `Prepare MR Model(s) from Alignment data <../html-taskref/doc.task.ModelPrepAlgn.html>`_  
- `Prepare MR Ensemble from Model(s) <../html-taskref/doc.task.Ensembler.html>`_  
- `Prepare MR Ensemble from Sequence <../html-taskref/doc.task.EnsemblePrepSeq.html>`_  
- `Prepare MR Ensemble from Coordinate data <../html-taskref/doc.task.EnsemblePrepXYZ.html>`_  
- `Prepare MR Ensemble with CCP4mg <../html-taskref/doc.task.EnsemblePrepMG.html>`_

--------------------------------------------------------------------
Why Can't XYZ Data Be Used Directly in Molecular Replacement Tasks?
--------------------------------------------------------------------

The direct use of XYZ data (*i.e.,* bare PDB or mmCIF files) in CCP4 Cloud's MR tasks 
is disallowed for a crucial reason:  

**Model preparation must be a mandatory step to ensure optimal similarity with the target sequence.**  

This preparation step involves trimming XYZ data, which:

- Improves the chances of successful Molecular Replacement  
- Tailors the structure template for better alignment with the target sequence

Although this requirement may occasionally seem redundant or inconvenient, it is generally beneficial for achieving accurate results.

.. note::  
   Trimming of structure templates may be switched off in model preparation tasks if necessary.
